@model BookListViewModel

@{
	ViewData["Title"] = "Epibrary";
}

<div class="mx-4">
	<h1>Benvenuto su Epibrary - La tua libreria personalizzata! </h1>
</div>


<div class="mx-4">
	<a class="btn btn-success mb-3" asp-controller="Library" asp-action="Add">Add Book</a>
</div>

<div class=" container-fluid px-5">
	<div class="row row-cols-md-3 row-cols-lg-4 row-cols-xl-5 mx-5">
		@if (Model.Books != null && Model.Books.Any())
		{
			@foreach (var item in Model.Books)
			{
				<div class="col">
					<div class="card mb-3">
						<div class="img-container">
							<img class="card-img-top" src="@item.Img" alt="@item.Title">
						</div>
						
						<div class="card-body d-flex flex-column">
							<div>
								<h5 class="card-title title">@item.Title</h5>
								<h6 class="card-subtitle mb-2 text-body-secondary">@item.Author</h6>
								<div class="d-flex justify-content-between mb-2">
									<span class="badge bg-dark">@item.Genre.Name</span>
									<span class="circle @(item.Available? "avaible" : "notAvaible")"></span>
								</div>						
							</div>
							<div class="d-flex gap-2 mt-auto">
								<a class="btn btn-outline-secondary btn-sm" asp-controller="Library" asp-action="Edit" asp-route-id=@item.Id>Modifica</a>
							</div>
						</div>
					</div>
				</div>
			}
		}
		else
		{
			<p class="text-danger">No books found</p>
		}
	</div>
</div>